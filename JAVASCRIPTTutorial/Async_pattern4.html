<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        var DataDervice = function () {
            var service = {}
            service.getData = function () { //promisify method
                return new Promise(function(resolve, reject){
                    console.log("Inside promise");
                    var n = Math.random() * 10;
                    if(n > 5){
                        resolve({ status: "suceess", data: n });
                        return ;
                    }
                    reject({ status: "Error", msg: "Data is too low+n" });
                });
            }
            return service;
        }();

        var result = DataDervice.getData()
                 .then(WhenSuccess)
                 .catch(WhenfnError)


        function WhenSuccess() {
            console.log("Success callback");
            console.log(result);
        }
        function WhenfnError() {
            console.log("Error callback");
            console.log(result);
        }
        console.log("end of script");
    </script>
</body>

</html>